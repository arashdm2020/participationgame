@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   PARTICIPATION GAME - DESIGN SYSTEM v2.0
   ============================================ */

@layer base {
  :root {
    /* Foundation Colors */
    --bg-root: #07090C;
    --bg-surface: #0D1117;
    --bg-elevated: #161B22;
    --bg-hover: #1C2128;
    
    /* Border Colors */
    --border-subtle: #21262D;
    --border-default: #30363D;
    
    /* Text Colors */
    --text-primary: #F0F6FC;
    --text-secondary: #8B949E;
    --text-tertiary: #484F58;
    
    /* Accent Colors */
    --accent-primary: #10B981;
    --accent-primary-hover: #34D399;
    
    /* Status Colors */
    --status-success: #10B981;
    --status-warning: #F59E0B;
    --status-danger: #EF4444;
    --status-info: #3B82F6;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, #10B981 0%, #059669 100%);
    --gradient-gold: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
    --gradient-danger: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);
    
    /* Sidebar */
    --sidebar-width: 240px;
    --sidebar-collapsed: 64px;
    --header-height: 64px;
  }

  * {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--bg-root);
    color: var(--text-primary);
    min-height: 100vh;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* RTL Support - Persian */
  [dir="rtl"] {
    font-family: 'Vazirmatn', system-ui, sans-serif;
  }
}

@layer components {
  /* ============================================
     CARD COMPONENTS
     ============================================ */
  
  .card {
    @apply bg-bg-surface rounded-card p-5 shadow-card;
  }
  
  .card-elevated {
    @apply bg-bg-elevated rounded-card p-5 shadow-card-hover;
  }
  
  .card-highlighted {
    @apply rounded-card p-5 border border-accent-primary/30;
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.05) 100%);
  }
  
  .card-danger {
    @apply rounded-card p-5 border border-status-danger/30;
    background: rgba(239, 68, 68, 0.08);
  }

  /* ============================================
     BUTTON COMPONENTS
     ============================================ */
  
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-all duration-150;
    @apply focus:outline-none focus:ring-2 focus:ring-accent-primary/50;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-primary {
    @apply btn px-5 py-3 text-white;
    background: var(--gradient-primary);
  }
  
  .btn-primary:hover:not(:disabled) {
    @apply brightness-110 -translate-y-0.5;
  }
  
  .btn-secondary {
    @apply btn px-5 py-3 bg-bg-elevated text-text-primary border border-border-subtle;
  }
  
  .btn-secondary:hover:not(:disabled) {
    @apply bg-bg-hover border-border;
  }
  
  .btn-ghost {
    @apply btn px-4 py-2 text-text-secondary;
  }
  
  .btn-ghost:hover:not(:disabled) {
    @apply text-text-primary bg-bg-hover;
  }
  
  .btn-danger {
    @apply btn px-5 py-3 text-white;
    background: var(--gradient-danger);
  }
  
  .btn-success {
    @apply btn px-5 py-3 bg-status-success text-white;
  }

  .btn-sm {
    @apply px-3 py-2 text-body-sm;
  }
  
  .btn-lg {
    @apply px-6 py-4 text-body-lg;
  }
  
  .btn-xl {
    @apply px-8 py-4 text-heading-3;
  }

  /* ============================================
     BADGE COMPONENTS
     ============================================ */
  
  .badge {
    @apply inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-body-sm font-medium;
  }
  
  .badge-success {
    @apply badge text-status-success;
    background: rgba(16, 185, 129, 0.12);
  }
  
  .badge-warning {
    @apply badge text-status-warning;
    background: rgba(245, 158, 11, 0.12);
  }
  
  .badge-danger {
    @apply badge text-status-danger;
    background: rgba(239, 68, 68, 0.12);
  }
  
  .badge-info {
    @apply badge text-status-info;
    background: rgba(59, 130, 246, 0.12);
  }
  
  .badge-neutral {
    @apply badge text-text-secondary bg-bg-hover;
  }

  /* ============================================
     INPUT COMPONENTS
     ============================================ */
  
  .input {
    @apply w-full h-11 px-4 bg-bg-elevated border border-border-subtle rounded-lg;
    @apply text-text-primary placeholder:text-text-tertiary;
    @apply focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary/30;
    @apply transition-colors duration-150;
  }
  
  .input-error {
    @apply input border-status-danger focus:border-status-danger focus:ring-status-danger/30;
  }
  
  .input-lg {
    @apply h-14 px-5 text-heading-2 font-mono text-center;
  }

  /* ============================================
     PROGRESS COMPONENTS
     ============================================ */
  
  .progress-bar {
    @apply relative h-2 bg-bg-hover rounded-full overflow-hidden;
  }
  
  .progress-fill {
    @apply absolute inset-y-0 left-0 rounded-full transition-all duration-500 ease-out;
    background: var(--gradient-primary);
  }
  
  .progress-shimmer {
    @apply absolute inset-0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
    animation: shimmer 2s infinite;
  }

  /* ============================================
     NAVIGATION COMPONENTS
     ============================================ */
  
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg text-text-secondary;
    @apply transition-colors duration-150 cursor-pointer;
  }
  
  .nav-item:hover {
    @apply text-text-primary bg-bg-hover;
  }
  
  .nav-item-active {
    @apply nav-item text-text-primary bg-accent-primary-muted;
    @apply border-l-2 border-accent-primary;
  }

  /* ============================================
     SKELETON LOADING
     ============================================ */
  
  .skeleton {
    @apply bg-bg-hover rounded animate-pulse;
  }
  
  .skeleton-text {
    @apply skeleton h-4 w-full;
  }
  
  .skeleton-heading {
    @apply skeleton h-8 w-3/4;
  }
  
  .skeleton-card {
    @apply skeleton h-32 w-full rounded-card;
  }
}

@layer utilities {
  /* ============================================
     CUSTOM SCROLLBAR
     ============================================ */
  
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-surface);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border-default);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
  }

  /* ============================================
     TEXT UTILITIES
     ============================================ */
  
  .text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .text-gradient-gold {
    background: var(--gradient-gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ============================================
     NUMBER INPUT RESET
     ============================================ */
  
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
  }

  /* ============================================
     ANIMATIONS
     ============================================ */
  
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
  
  @keyframes pulse-dot {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
  }
  
  .animate-pulse-dot {
    animation: pulse-dot 1.5s ease-in-out infinite;
  }

  /* ============================================
     FOCUS VISIBLE
     ============================================ */
  
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-bg-root;
  }

  /* ============================================
     LAYOUT UTILITIES
     ============================================ */
  
  .sidebar-width {
    width: var(--sidebar-width);
  }
  
  .header-height {
    height: var(--header-height);
  }
  
  .main-content {
    margin-left: var(--sidebar-width);
    min-height: calc(100vh - var(--header-height));
  }

  /* ============================================
     STATUS DOT
     ============================================ */
  
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }
  
  .status-dot-success {
    @apply status-dot bg-status-success animate-pulse-dot;
  }
  
  .status-dot-warning {
    @apply status-dot bg-status-warning animate-pulse-dot;
  }
  
  .status-dot-danger {
    @apply status-dot bg-status-danger animate-pulse-dot;
  }

  /* ============================================
     ANIMATIONS
     ============================================ */
  
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out forwards;
  }
  
  .animate-slide-up {
    animation: slideUp 0.5s ease-out forwards;
  }
  
  .animate-shimmer {
    animation: shimmer 2s infinite;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}
